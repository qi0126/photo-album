<!DOCTYPE html>
<html>
<head>
   <title>产品分类管理</title>
   <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
   <link rel="stylesheet" href="../css/jBootsrapPage.css" />
   <link rel="stylesheet" type="text/css" href="../css/product_category_mgr.css">
   <script src="../js/jquery-1.10.2.min.js"></script>
   <script src="../js/bootstrap.min.js"></script>
   <script src="../js/jBootstrapPage.js"></script>
</head>
<body style="background-color:#eee;">
	<div class="content">
    	<div id="breadcrumb">
            <img src="../images/home.png" width="18px" style=" margin-top:-4px"/>
            <a href="products.html">珠宝图鉴后台管理系统</a>
            <img src="../img/breadcrumb.png"/>
            <span class="font16">产品管理</span>
            <img src="../img/breadcrumb.png"/>
            <span class="font16">产品分类管理</span>
        </div>
		<div class="control_panel">
        	<div class="edit_product_category_mgr">
                <div class="editproduct_category">创建新的分类</div>
                <p><input type="text" name="category" placeholder="元类" style="margin:0;"> <button id="btn_add_category" class="btn btn-info">+新增类别</button> <button id="btn_sub_category" class="btn btn-warning">-删减类别</button> <button class="btn btn-primary">提交创建</button></p>
            </div>
			<div class="edit_product_category_mgr">
				<div class="editproduct_category">分类管理</div>
				<select name="category1">
					<option>手镯</option>
					<option>戒指</option>
					<option>项链</option>
					<option>吊坠</option>
				</select>
				<select name="category2">
					<option>请先选择上级分类</option>
				</select>
				<select name="category3">
					<option>请先选择上级分类</option>
				</select>
				<input type="text" name="search">
				<button id="btn_search" class="btn btn-success"><span class="glyphicon glyphicon-search"></span>搜索</button>
				<table class="product_category_table table table-striped table-bordered table-hover">
					<thead class="theadtt">
						<tr>
							<td><input type="checkbox" name="all_select"> 全选</td>
							<td>大类</td>
							<td>中类</td>
							<td>小类</td>
							<td><button class="btn btn-danger">批量删除</button></td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><input type="checkbox" name="select"></td>
							<td>手镯</td>
							<td>实心手镯</td>
							<td>平面密口</td>
							<td>
                                <button id="btn_edit" class="btn btn-primary">编辑</button>
                                <button id="btn_del" class="btn btn-warning">删除</button>
                            </td>
						</tr>
						<tr>
							<td><input type="checkbox" name="select"></td>
							<td>手镯</td>
							<td>实心手镯</td>
							<td>平面密口</td>
							<td>
                                <button id="btn_edit" class="btn btn-primary">编辑</button>
                                <button id="btn_del" class="btn btn-warning">删除</button>
                            </td>
						</tr>
						<tr>
							<td><input type="checkbox" name="select"></td>
							<td>手镯</td>
							<td>实心手镯</td>
							<td>平面密口</td>
							<td>
                                <button id="btn_edit" class="btn btn-primary">编辑</button>
                                <button id="btn_del" class="btn btn-warning">删除</button>
                            </td>
						</tr>
						<tr>
							<td><input type="checkbox" name="select"></td>
							<td>手镯</td>
							<td>实心手镯</td>
							<td>平面密口</td>
							<td>
                                <button id="btn_edit" class="btn btn-primary">编辑</button>
                                <button id="btn_del" class="btn btn-warning">删除</button>
                            </td>
						</tr>
					</tbody>
				</table>
			</div>
			<ul class="pagination"></ul>
		</div>
	</div>
</body>
</html>
<script type="text/javascript">
	function createPage(pageSize, buttons, total) {
		$(".pagination").jBootstrapPage({
			pageSize : pageSize,
			total : total,
			maxPageButton: buttons,
			onPageClicked: function(obj, pageIndex) {
				console.log(pageIndex+1); //起始页面为0,需+1
				/*http.getAjax_clean("url?category=&time=&online=false", function(data){
					//...
				});*/
			}
		});
	}
	$(function(){
		var addInputCount = 0;
		createPage(10, 7, 150);
		document.getElementById('btn_add_category').addEventListener('click', function(e){
			if(addInputCount<15){
				addInputCount++;
				var html = '<input type="text" name="category' + (addInputCount ? addInputCount : '') + '" placeholder="添加的'+addInputCount+'级子类">';
				var select_id = 'input[name=category' + (addInputCount-1 ? addInputCount-1 : '') + ']';
				$(select_id).after(html);
				}
		}, false);
		document.getElementById('btn_sub_category').addEventListener('click', function(e){
			if(addInputCount==0){
				return;
			}else{
				var select_id = 'input[name=category' + (addInputCount ? addInputCount : 'bug') + ']';
				$(select_id).remove();
				addInputCount--;
			}
		}, false);
	});
</script>
